<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JB Kit</title>

	<link rel="stylesheet" href="css/phosphor.css">
	<link rel="stylesheet" href="css/colorist.css">
	<link rel="stylesheet" href="css/sortable.css">
	<link rel="stylesheet" href="css/datepicker.css">
	<link rel="stylesheet" href="css/slimselect.css">
	<link rel="stylesheet" href="css/main.css">

	<script src="js/vanillaTextMask.min.js"></script>

<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
	<script src="js/colorist.min.js"></script>
	<script src="js/sortable.min.js"></script>
	<script src="js/datepicker.js"></script>
	<script src="js/slimselect.min.js"></script>
	<script src="js/index.js"></script>
	<!-- https://at-ui.github.io/at-ui/#/en/docs/tabs -->
	<!-- https://semantic-ui.com/elements/button.html -->
</head>
<body class="d-flex aic jcc cxl-12 p-3 h-100">
	<div class="mw-70x6">
		<div class="mb-4 d-flex jcc">
			<a href=".">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="36" height="36" viewBox="0 0 36 36">
					<path fill="#206BC4" d="M18 0a18 18 0 100 36 18 18 0 000-36zm-6 7.6s-.4-.2-.5 0v.3l.1.6c.3 2.5.4 5.2-.3 7.6A8 8 0 019 19.5c-.9.8-2.1 1.7-3.3 1.6L5 21C4 20.5 3.8 19 3.8 18a14.1 14.1 0 0124.8-9.5 14.3 14.3 0 013.6 9.5c0 2.3-.7 4.9-3.6 3.7a8.6 8.6 0 01-3.4-3c-1.9-2.6-4-5-6.4-7.3-2-1.8-4.2-3-6.8-3.8z"/>
				</svg>
			</a>
		</div>
		<form class="card card-border" method="post" @submit.prevent="$ajax('install-website')" x-data="{name: '', description: '', dbname: '', username: '', db_password: '', hostname: 'localhost', prefix: 'grafema_', login: '', email: '', password: ''}">
			<!-- step 1 -->
			<div x-wizard:step="name.trim()">
				<div class="t-center p-8">
					<h2>Welcome to Grafema!</h2>
					<p class="t-muted">This is installation wizard. Before start, you need to set some settings. Please fill the information about your website.</p>
				</div>
				<div class="card-hr">Website data</div>
				<div class="dg g-6 p-8 pb-0">
					<div class="dg g-1">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Site name</span>
							<input type="text" x-model="name" name="name" placeholder="Example: My Blog" x-autocomplete required>
						</label>
					</div>
					<div class="dg g-1">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Site description</span>
							<input type="text" x-model="description" name="description" placeholder="Example: Just Another Website" x-autocomplete>
						</label>
						<div class="fs-13 t-muted"><?php I18n::e( 'Don\'t worry, you can always change these settings later.' ); ?></div>
					</div>
				</div>
			</div>

			<!-- step 2 -->
			<div x-wizard:step="dbname.trim() && username.trim() && db_password.trim() && hostname.trim() && prefix.trim()" x-cloak>
				<div class="t-center p-8">
					<h2>Step 1: Database</h2>
					<p class="t-muted">Enter information about connecting to the database here. If you are not sure about it, contact your hosting provider.</p>
				</div>
				<div class="card-hr">Database credits</div>
				<div class="dg gtc-2 g-6 p-8 pb-0">
					<div class="dg g-1 ga-2">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Database name</span>
							<input type="text" x-model="dbname" name="dbname" placeholder="database_name" x-autocomplete required>
						</label>
					</div>
					<div class="dg g-1 ga-2">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Database username</span>
							<input type="text" x-model="username" name="username" placeholder="user_name" x-autocomplete required>
						</label>
					</div>
					<div class="dg g-1 ga-2">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Database password</span>
							<input type="text" x-model="db_password" name="db_password" placeholder="Password" x-autocomplete required>
						</label>
					</div>
					<div class="dg g-1 sm:ga-2">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Hostname</span>
							<input type="text" x-model="hostname" name="hostname" placeholder="Hostname" x-autocomplete required>
						</label>
					</div>
					<div class="dg g-1 sm:ga-2">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Prefix</span>
							<input type="text" x-model="prefix" name="prefix" placeholder="Prefix" x-autocomplete required>
						</label>
						<div class="fs-13 t-muted"><?php I18n::e( 'Don\'t worry, you can always change these settings later.' ); ?></div>
					</div>
				</div>
			</div>

			<!-- step 3 -->
			<div x-wizard:step="login.trim() && email.trim() && password.trim()" x-cloak>
				<div class="t-center p-8">
					<h2>Step 2: Create account</h2>
					<p class="t-muted">The last step. Create a site administrator.</p>
				</div>
				<div class="card-hr">User credits</div>
				<div class="dg g-6 p-8 pb-0">
					<div class="dg g-1">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">User login</span>
							<input type="text" x-model="login" name="login" placeholder="Enter login" required>
						</label>
						<div class="fs-13 t-muted"><?php I18n::e( 'Can use only alphanumeric characters, underscores, hyphens and @ symbol.' ); ?></div>
					</div>
					<div class="dg g-1">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Email address</span>
							<input type="email" x-model="email" name="email" placeholder="Enter email" required>
						</label>
						<div class="fs-13 t-muted"><?php I18n::e( 'Double-check your email address before continuing.' ); ?></div>
					</div>
					<div class="dg g-1">
						<label class="dg g-1">
							<span class="df aic jcsb fw-600">Password</span>
							<input type="password" x-model="password" name="password" placeholder="Password" x-autocomplete required>
						</label>
						<div class="fs-13 t-muted"><?php I18n::e( 'You will need this password to sign&nbsp;in. Please store it in a secure location.' ); ?></div>
					</div>
				</div>
			</div>

			<!-- buttons -->
			<div class="p-8 df jcsb g-2">
				<button type="button" class="btn btn--outline" :disabled="$wizard.cannotGoBack()" @click="$wizard.goBack()" disabled>
					Back
				</button>
				<button type="button" class="btn btn--primary" :disabled="$wizard.cannotGoNext()" x-show="$wizard.isNotLast()" @click="$wizard.goNext()" disabled>
					Continue
				</button>
				<button type="submit" class="btn btn--primary" :disabled="$wizard.isUncompleted()" x-show="$wizard.isLast()" disabled>
					Install Grafema
				</button>
			</div>
		</form>
		<div class="ta-center t-muted mt-3">
			Don't have account yet? <a href="./sign-up.html" tabindex="-1">Sign up</a>
		</div>
	</div>
</body>
</html>
